<app-navbar [usuarioId]="usuarioId"></app-navbar>
<div>

    <div class="btn-group">
        <button type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown" id="dropdownMenuButton" aria-haspopup="true" aria-expanded="false">
          Mostrar
        </button>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton" onclick="javascript:console.log( $(event.target).data('mode'))">
          <a class="dropdown-item" data-mode="mode1" (click)="mostrarEstado(1)">Pendientes</a>
          <a class="dropdown-item " data-mode="mode2" (click)="mostrarEstado(2)">En proceso</a>
          <a class="dropdown-item" data-mode="mode3" (click)="mostrarEstado(3)">Terminados</a>
          <a class="dropdown-item" data-mode="mode4" (click)="mostrarEstado(4)">Todos</a>
        </div>
      </div>

      
    <button backButton class="btn btn-danger" (click)="volver()" style="float: right">volver</button>

    <body class="card text-white bg-dark m-2 b-2" *ngFor="let pedido of Pedidos">
        <a *ngIf="(pedido.estado)===(mostrar) || (mostrar)===4 && (pedido.estado)!=0 && (pedido.estado)!=5" >
        <a *ngIf="asignarEstado(pedido)"></a>
        <tr>
            <a>NÃºmero de pedido: {{pedido.id}}</a>
        </tr>
        <tr>
            <a>Total: {{pedido.total}}</a>
        </tr>
        <tr>
            <a *ngFor="let detalle of pedido.detallePedido">
                Detalles: {{detalle.articuloManofacturado.denominacion}}
            </a>
        </tr>
        <tr *ngIf="(mostrar)!=4">
            <a>Estado: {{estado}}</a>
        </tr>
        <td>
            <div class="btn-group">
                <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" id="dropdownMenuButton" aria-haspopup="true" aria-expanded="false">
                  Cambiar estado
                </button>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton" onclick="javascript:console.log( $(event.target).data('mode'))">
                  <a class="dropdown-item" data-mode="mode1" (click)="cambiarEstado(pedido,1)">Pendiente</a>
                  <a class="dropdown-item " data-mode="mode2" (click)="cambiarEstado(pedido,2)">En proceso</a>
                  <a class="dropdown-item" data-mode="mode3" (click)="cambiarEstado(pedido,3)">Terminado</a>
                </div>
              </div>
        </td>
    </a>
    </body>

</div>
